{% extends "homepage/index.html" %}
{% block title %}Recordatorio 24 horas{% endblock %}
{% block js %}
<script src="{{ MEDIA_URL }}js/adquiridos/jquery-1.8.1.min.js" type="text/javascript"></script>
<script type="text/javascript" src="{{ MEDIA_URL }}js/adquiridos/jquery.mask.min.js"></script>
<script type="text/javascript" src="{{ MEDIA_URL }}js/adquiridos/teclaEnter.js"></script>
<script src="{{ MEDIA_URL }}js/propios/recordatorio24.js"></script>
<script type="text/javascript" src="{{ MEDIA_URL }}pluggins/jquery-ui-1.9.0.custom/js/jquery-ui-1.9.0.custom.min.js"></script>
<script type="text/javascript" language="javascript" src="{{ MEDIA_URL }}pluggins/jquery-ui-1.9.0.custom/development-bundle/ui/jquery.ui.timepicker.js" />"></script>
{% endblock%}
{% block css %}
<link rel="stylesheet" type="text/css" href="{{ MEDIA_URL }}css/account/recordatorio.css">
<link rel="stylesheet" type="text/css" href="{{ MEDIA_URL }}pluggins/jquery-ui-1.9.0.custom/development-bundle/ui/jquery.ui.timepicker.css">
<link rel="stylesheet"href="{{ MEDIA_URL }}pluggins/jquery-ui-1.9.0.custom/css/ui-lightness/jquery-ui-1.9.0.custom.min.css">

{% endblock %}

{% block content %}
<h2>Recordatorio 24 horas</h2>
<h4>La siguiente encuesta debe llenarse cuidadosamente, lo ideal es que coloque lo consumido habitaulmente en cada una de las comidas.</h4>
	<form action="." method="POST" id="form1">
		{% csrf_token %}
		<input type="hidden" id="user_id" name="user" value="{{ id }}" />
		<div id="recordatorioForm">
			<div id="desayuno"><h3>Desayuno</h3>
			<div class="campoForm">
				{{ form.horaDesayuno.errors }}
				<label for="id_horaDesayuno">Hora del desayuno:</label>
				{{ form.horaDesayuno }}
			</div>
			<div class="campoForm">
				{{ form.desayuno.erros }}
				<label for="id_desayuno">Usted desayuna todos los días:</label>
				{{ form.desayuno }}
			</div>
			<div class="campoForm">
				{{ form.diasDesayuno.errors }}
				<label for="id_diasDesayuno">Especifique cuantos días</label>
				{{ form.diasDesayuno }}
			</div>
			<div class="campoForm">Porción:  
				<div id="tamanos">
					<label class="tama" for="p">Pequeño</label>
					<label class="tama" for="m">Mediano</label>
					<label class="tama" for="g">Grande</label>
				</div>
				<div id="radiobotons">
					<input type="radio" value="p" name="porcion-desayuno">
					<input type="radio" value="m" name="porcion-desayuno" checked>
					<input type="radio" value="g" name="porcion-desayuno">
				</div>
			</div>
			<div class="campoForm">
				<label>Buscar alimentos:</label>
				<input list="alimentos" name="alimento" id="input1">
				<datalist id="alimentos">
					{% for a in alimentos%}
					<OPTION value="{{a.nombre}}|{{a.id}}">{{a.id}}</OPTION>
					{% endfor %}
				</datalist>
				<label for="id_selCombo1">Alimentos consumidos en el desayuno</label>
				<div class="botonGroup">
					<input id="botonAgregar1" type="button" value="+" class="botonVerde">
					<input id="botonRemover1" type="button" value="-" class="botonRojo">
				</div>
				<SELECT id="selCombo1" multiple="multiple" name="selCombo1" SIZE="5" >
				</SELECT>
			</div> 
			</div>
			<!-- SEPARACION -->
			<hr>
			<div id="merienda1"><h3>Primera merienda</h3>
			<div class="campoForm">
				{{ form.horaMerienda1.errors }}
				<label for="id_horaMerienda1">Hora de la primera merienda:</label>
				{{ form.horaMerienda1 }}
			</div>
			<div class="campoForm">
				{{ form.merienda1.erros }}
				<label for="id_merienda1">Usted siempre merienda entre el desayuno y el almuerzo:</label>
				{{ form.merienda1 }}
			</div>
			<div class="campoForm">
				{{ form.diasMerienda1.errors }}
				<label for="id_diasMerienda1">Especifique cuantos días</label>
				{{ form.diasMerienda1 }}
			</div>
			<div class="campoForm">Porción:  
				<div id="tamanos">
					<label class="tama" for="p">Pequeño</label>
					<label class="tama" for="m">Mediano</label>
					<label class="tama" for="g">Grande</label>
				</div>
				<div id="radiobotons">
					<input type="radio" value="p" name="porcion-merienda1">
					<input type="radio" value="m" name="porcion-merienda1" checked>
					<input type="radio" value="g" name="porcion-merienda1">
				</div>
			</div>
			<div class="campoForm">
			<label>Buscar alimentos:</label>
			<input list="alimentos" name="alimento" id="input2">
			<datalist id="alimentos">
				{% for a in alimentos%}
				<OPTION value="{{a.nombre}}">{{a.id}}</OPTION>
				{% endfor %}
			</datalist>
			<label>Alimentos consumidos entre el desayuno y el almuerzo</label>
			<div class="botonGroup">
				<input id="botonAgregar2" type="button" value="+" class="botonVerde">
				<input id="botonRemover2" type="button" value="-" class="botonRojo">
			</div>
			<SELECT id="selCombo2" multiple="multiple" name="selCombo2" SIZE="5"></SELECT>
			</div>
			</div> 
			<!-- SEPARACION -->
			<hr>
			<div id="almuerzo"><h3>Almuerzo</h3>
			<div class="campoForm">
				{{ form.horaAlmuerzo.errors }}
				<label for="id_horaAlmuerzo">Hora del almuerzo:</label>
				{{ form.horaAlmuerzo }}
			</div>
			<div class="campoForm">
				{{ form.almuerzo.erros }}
				<label for="id_almuerzo">Usted almuerza todos los días:</label>
				{{ form.almuerzo }}
			</div>
			<div class="campoForm">
				{{ form.diasAlmuerzo.errors }}
				<label for="id_diasMerienda1">Especifique cuantos días</label>
				{{ form.diasAlmuerzo }}
			</div>
			<div class="campoForm">Porción:  
				<div id="tamanos">
					<label class="tama" for="p">Pequeño</label>
					<label class="tama" for="m">Mediano</label>
					<label class="tama" for="g">Grande</label>
				</div>
				<div id="radiobotons">
					<input type="radio" value="p" name="porcion-almuerzo">
					<input type="radio" value="m" name="porcion-almuerzo" checked>
					<input type="radio" value="g" name="porcion-almuerzo">
				</div>
			</div>
			<div class="campoForm">
			<label>Buscar alimentos:</label>
			<input list="alimentos" name="alimento" id="input3">
			<datalist id="alimentos">
				{% for a in alimentos%}
				<OPTION value="{{a.nombre}}">{{a.id}}</OPTION>
				{% endfor %}
			</datalist>
			<label>Alimentos consumidos en el almuerzo</label>
			<div class="botonGroup">
				<input id="botonAgregar3" type="button" value="+" class="botonVerde">
				<input id="botonRemover3" type="button" value="-" class="botonRojo">
			</div>
			<SELECT id="selCombo3" multiple="multiple" NAME="selCombo3" SIZE="5"> 
			</SELECT>
			</div>
			</div> 
			<!-- SEPARACION -->
			<hr>
			<div id="merienda2"><h3>Segunda merienda</h3>
			<div class="campoForm">
				{{ form.horaMerienda2.errors }}
				<label for="id_horaMerienda2">Hora de la segunda merienda:</label>
				{{ form.horaMerienda2 }}
			</div>
			<div class="campoForm">
				{{ form.merienda2.erros }}
				<label for="id_merienda2">Usted siempre merienda entre el almuerzo y la cena:</label>
				{{ form.merienda2 }}
			</div>
			<div class="campoForm">
				{{ form.diasMerienda2.errors }}
				<label for="id_diasMerienda2">Especifique cuantos días</label>
				{{ form.diasMerienda2 }}
			</div>
			<div class="campoForm">Porción:  
				<div id="tamanos">
					<label class="tama" for="p">Pequeño</label>
					<label class="tama" for="m">Mediano</label>
					<label class="tama" for="g">Grande</label>
				</div>
				<div id="radiobotons">
					<input type="radio" value="p" name="porcion-merienda2">
					<input type="radio" value="m" name="porcion-merienda2" checked>
					<input type="radio" value="g" name="porcion-merienda2">
				</div>
			</div>
			<div class="campoForm">
			<label>Buscar alimentos:</label>
			<input list="alimentos" name="alimento" id="input4">
			<datalist id="alimentos">
				{% for a in alimentos%}
				<OPTION value="{{a.nombre}}">{{a.id}}</OPTION>
				{% endfor %}
			</datalist>
			<label>Alimentos consumidos entre el almuerzo y la cena</label>
			<div class="botonGroup">
				<input id="botonAgregar4" type="button" value="+" class="botonVerde">
				<input id="botonRemover4" type="button" value="-" class="botonRojo">
			</div>
			<SELECT id="selCombo4" multiple="multiple" NAME="selCombo4" SIZE="5"> 
			</SELECT>
			</div>
			</div> 
			<!-- SEPARACION -->
			<hr>
			<div id="cena"><h3>Cena</h3>
			<div class="campoForm">
				{{ form.horaCena.errors }}
				<label for="id_horacena">Hora de la cena:</label>
				{{ form.horaCena }}
			</div>
			<div class="campoForm">
				{{ form.cena.erros }}
				<label for="id_cena">Usted cena todos los días:</label>
				{{ form.cena }}
			</div>
			<div class="campoForm">
				{{ form.diasCena.errors }}
				<label for="id_diascena">Especifique cuantos días</label>
				{{ form.diasCena }}
			</div>	
			<div class="campoForm">Porción:  
				<div id="tamanos">
					<label class="tama" for="p">Pequeño</label>
					<label class="tama" for="m">Mediano</label>
					<label class="tama" for="g">Grande</label>
				</div>
				<div id="radiobotons">
					<input type="radio" value="p" name="porcion-cena">
					<input type="radio" value="m" name="porcion-cena" checked>
					<input type="radio" value="g" name="porcion-cena">
				</div>
			</div>
			<div class="campoForm">
				<label>Buscar alimentos:</label>
				<input list="alimentos" name="alimento" id="input5">
				<datalist id="alimentos">
					{% for a in alimentos%}
					<OPTION value="{{a.nombre}}">{{a.id}}</OPTION>
					{% endfor %}
				</datalist>
				<label>Alimentos consumidos en la cena</label>
				<div class="botonGroup">
					<input id="botonAgregar5" type="button" value="+" class="botonVerde">
					<input id="botonRemover5" type="button" value="-" class="botonRojo">
				</div>
				<SELECT id="selCombo5" multiple="multiple" NAME="selCombo5" SIZE="5"> 
				</SELECT>
			</div> 
			</div>
			<!-- SEPARACION -->
			<hr>
			<div id="merienda3"><h3>Tercera merienda</h3>
			<div class="campoForm">
				{{ form.horaMerienda3.errors }}
				<label for="id_horaMerienda3">Hora de la primera merienda:</label>
				{{ form.horaMerienda3 }}
			</div>
			<div class="campoForm">
				{{ form.merienda3.erros }}
				<label for="id_merienda3">Usted merienda entre el desayuno y el almuerzo:</label>
				{{ form.merienda3 }}
			</div>
			<div class="campoForm">
				{{ form.diasMerienda3.errors }}
				<label for="id_diasMerienda3">Especifique cuantos días</label>
				{{ form.diasMerienda3 }}
			</div>	
			<div class="campoForm">Porción:  
				<div id="tamanos">
					<label class="tama" for="p">Pequeño</label>
					<label class="tama" for="m">Mediano</label>
					<label class="tama" for="g">Grande</label>
				</div>
				<div id="radiobotons">
					<input type="radio" value="p" name="porcion-merienda3">
					<input type="radio" value="m" name="porcion-merienda3" checked>
					<input type="radio" value="g" name="porcion-merienda3">
				</div>
			</div>
			<div class="campoForm">
				<label>Buscar alimentos:</label>
				<input list="alimentos" name="alimento" id="input6">
				<datalist id="alimentos">
					{% for a in alimentos%}
					<OPTION value="{{a.nombre}}">{{a.id}}</OPTION>
					{% endfor %}
				</datalist>
				<label>Alimentos consumidos después de la cena</label>
				<div class="botonGroup">
					<input id="botonAgregar6" type="button" value="+" class="botonVerde">
					<input id="botonRemover6" type="button" value="-" class="botonRojo">
				</div>
				<SELECT id="selCombo6" multiple="multiple" NAME="selCombo6" SIZE="5"> 
				</SELECT>
				</div> 
			</div>
		</div>
		{{ form.errors }}
		{{ form.non_field_errors }}
		<input type="submit" value="Cargar" id="botonRecordar">
	</form>
{% endblock %}

<script>
$(document).ready(function(){
	$("#id_horaDesayuno").mask('00:00');
	$("#id_horaMerienda1").mask('00:00');
	$("#id_horaAlmuerzo").mask('00:00');
	$("#id_horaMerienda2").mask('00:00');
	$("#id_horaCena").mask('00:00');
	$("#id_horaMerienda3").mask('00:00');
	$("#id_desayuno_0").click();
 	$("#id_merienda1_0").click();
 	$("#id_almuerzo_0").click();
 	$("#id_merienda2_0").click();
 	$("#id_cena_0").click();
 	$("#id_merienda3_0").click();
	$('input:text').focus(
		function(){
				$(this).val('');
		});
		
		$("#form1").bind("keypress", function(e) {
			if (e.keyCode == 13) return false;
		});
	/////////////////BOTON1///////////////////////
		$('#botonAgregar1').click(function(){
			if($('#input1').val() == ""){
				alert("vacio");
			}else{
				if ($('#input1').val().indexOf("|") < 0){
				  $('#input1').val($('#input1').val()+'|0');
					}
			$("#selCombo1").append('<option value="'+$('#input1').val()+'|'+$('input[name=porcion-desayuno]:checked').val()+'|1">'+$('#input1').val()+'</option>');
			$('#input1').focus();
		}
	});
		$('#botonRemover1').click(function(){
			$("#selCombo1 option:selected").remove();
		});

		$('#selCombo1').dblclick(function() {
			$("#selCombo1 option:selected").remove();
	});

		$("#input1").enterKey(function () {
			if($('#input1').val() == ""){
					alert("vacio");
				}else{
					if ($('#input1').val().indexOf("|") < 0){
				  $('#input1').val($('#input1').val()+'|0');
					}
				$("#selCombo1").append('<option value="'+$('#input1').val()+'|'+$('input[name=porcion-desayuno]:checked').val()+'|1">'+$('#input1').val()+'</option>');
			$('#input1').focus();
			}
	});


		/////////////////BOTON2///////////////////
		$('#botonAgregar2').click(function(){
			if($('#input2').val() == ""){
				alert("vacio");
			}else{
				if ($('#input2').val().indexOf("|") < 0){
				  $('#input2').val($('#input2').val()+'|0');
					}
			$("#selCombo2").append('<option value="'+$('#input2').val()+'|'+$('input[name=porcion-merienda1]:checked').val()+'|2">'+$('#input2').val()+'</option>');
		$('#input2').focus();
		}
	})
		$('#botonRemover2').click(function(){
			$("#selCombo2 option:selected").remove();
		});

		$('#selCombo2').dblclick(function() {
			$("#selCombo2 option:selected").remove();
	});

		$("#input2").enterKey(function () {
			if($('#input2').val() == ""){
					alert("vacio");
				}else{
					if ($('#input2').val().indexOf("|") < 0){
				  $('#input2').val($('#input2').val()+'|0');
					}
				$("#selCombo2").append('<option value="'+$('#input2').val()+'|'+$('input[name=porcion-merienda1]:checked').val()+'|2">'+$('#input2').val()+'</option>');
			$('#input2').focus();
			}
	});
		///////////////////BOTON3////////////////
		$('#botonAgregar3').click(function(){
			if($('#input3').val() == ""){
				alert("vacio");
			}else{
				if ($('#input3').val().indexOf("|") < 0){
				  $('#input3').val($('#input3').val()+'|0');
					}
			$("#selCombo3").append('<option value="'+$('#input3').val()+'|'+$('input[name=porcion-cane]:checked').val()+'|3">'+$('#input3').val()+'</option>');
		$('#input3').focus();
		}
	});
		$('#botonRemover3').click(function(){
			$("#selCombo1 option:selected").remove();
		});

		$('#selCombo3').dblclick(function() {
			$("#selCombo3 option:selected").remove();
	});

		$("#input3").enterKey(function () {
			if($('#input3').val() == ""){
					alert("vacio");
				}else{
					if ($('#input3').val().indexOf("|") < 0){
				  $('#input3').val($('#input3').val()+'|0');
					}
				$("#selCombo3").append('<option value="'+$('#input3').val()+'|'+$('input[name=porcion-cena]:checked').val()+'|3">'+$('#input3').val()+'</option>');
			$('#input3').focus();
			}
	});

		//////////////////BOTON4////////////////

		$('#botonAgregar4').click(function(){
			if($('#input4').val() == ""){
				alert("vacio");
			}else{
				if ($('#input4').val().indexOf("|") < 0){
				  $('#input4').val($('#input4').val()+'|0');
					}
			$("#selCombo4").append('<option value="'+$('#input4').val()+'|'+$('input[name=porcion-merienda2]:checked').val()+'|4">'+$('#input4').val()+'</option>');
		$('#input4').focus();
		}
	});
		$('#botonRemover4').click(function(){
			$("#selCombo4 option:selected").remove();
		});


		$('#selCombo4').dblclick(function() {
			$("#selCombo4 option:selected").remove();
	});

		$("#input4").enterKey(function () {
			if($('#input4').val() == ""){
					alert("vacio");
				}else{
						if ($('#input4').val().indexOf("|") < 0){
				  $('#input4').val($('#input4').val()+'|0');
					}
				$("#selCombo4").append('<option value="'+$('#input4').val()+'|'+$('input[name=porcion-merienda2]:checked').val()+'|4">'+$('#input4').val()+'</option>');
			$('#input4').focus();
			}
	});
		//////////////////BOTON5////////////////
		$('#botonAgregar5').click(function(){
			if($('#input5').val() == ""){
				alert("vacio");
			}else{
					if ($('#input5').val().indexOf("|") < 0){
				  $('#input5').val($('#input5').val()+'|0');
					}
			$("#selCombo5").append('<option value="'+$('#input5').val()+'|'+$('input[name=porcion-cena]:checked').val()+'|5">'+$('#input5').val()+'</option>');
		$('#input5').focus();
		}
	});
		$('#botonRemover5').click(function(){
			$("#selCombo5 option:selected").remove();
		});
		$('#selCombo5').dblclick(function() {
			$("#selCombo5 option:selected").remove();
	});


		$("#input5").enterKey(function () {
			if($('#input5').val() == ""){
					alert("vacio");
				}else{
					if ($('#input5').val().indexOf("|") < 0){
				  $('#input5').val($('#input5').val()+'|0');
					}
				$("#selCombo5").append('<option value="'+$('#input5').val()+'|'+$('input[name=porcion-cena]:checked').val()+'|5">'+$('#input5').val()+'</option>');
			$('#input5').focus();
			}
	});
				//////////////////BOTON6////////////////

		$('#botonAgregar6').click(function(){if($('#input6').val() == ""){
				alert("vacio");
			}else{
				if ($('#input6').val().indexOf("|") < 0){
				  $('#input6').val($('#input6').val()+'|0');
					}
			$("#selCombo6").append('<option value="'+$('#input6').val()+'|'+$('input[name=porcion-merienda3]:checked').val()+'|6">'+$('#input6').val()+'</option>');
		$('#input6').focus();
		}
	});
		$('#botonRemover6').click(function(){
			$("#selCombo6 option:selected").remove();
		});

		$('#selCombo6').dblclick(function() {
			$("#selCombo6 option:selected").remove();
	});

		$("#input6").enterKey(function () {
			if($('#input6').val() == ""){
					alert("vacio");
				}else{
					if ($('#input6').val().indexOf("|") < 0){
				  $('#input6').val($('#input6').val()+'|0');
					}
				$("#selCombo6").append('<option value="'+$('#input6').val()+'|'+$('input[name=porcion-merienda3]:checked').val()+'|6">'+$('#input6').val()+'</option>');
			$('#input6').focus();
			}
	});

		/////////////////////////POST ALL OPTIONS FROM SELECTS and validations///////////////////////
	$('#botonRecordar').click(function(){
			$("#selCombo1").each(function(){
						
			$("#selCombo1 option").attr("selected","selected"); });
			
			$("#selCombo2").each(function(){
						$("#selCombo2 option").attr("selected","selected"); });
			
			$("#selCombo3").each(function(){
						$("#selCombo3 option").attr("selected","selected"); });
			
			$("#selCombo4").each(function(){
						$("#selCombo4 option").attr("selected","selected"); });
			
			$("#selCombo5").each(function(){
						$("#selCombo5 option").attr("selected","selected"); });
			
			$("#selCombo6").each(function(){
						$("#selCombo6 option").attr("selected","selected"); });
			});

	if($('#id_desayuno_0').attr("checked")=="checked"){
		$('#id_diasDesayuno').val('7');
	}
	if($('#id_merienda1_0').attr("checked")=="checked"){
		$('#id_diasMerienda1').val('7');
	}
	if($('#id_almuerzo_0').attr("checked")=="checked"){
		$('#id_diasAlmuerzo').val('7');
	}
	if($('#id_merienda2_0').attr("checked")=="checked"){
		$('#id_diasMerienda2').val('7');
	}
	if($('#id_cena_0').attr("checked")=="checked"){
		$('#id_diasCena').val('7');
	}
	if($('#id_merienda3_0').attr("checked")=="checked"){
		$('#id_diasMerienda3').val('7');
	}

$('#id_horaDesayuno').timepicker({
	showPeriod: true,
    showLeadingZero: true,
    hourText: 'Hora',
    minuteText: 'Minutos',
    amPmText: ['AM', 'PM'],
    timeSeparator: ':',
    nowButtonText: 'Hora actual',
    showNowButton: true,
    closeButtonText: 'Cerrar',
    showCloseButton: true,
});
$('#id_horaMerienda1').timepicker({
	showPeriod: true,
    showLeadingZero: true,
    hourText: 'Hora',
    minuteText: 'Minutos',
    amPmText: ['AM', 'PM'],
    timeSeparator: ':',
    nowButtonText: 'Hora actual',
    showNowButton: true,
    closeButtonText: 'Cerrar',
    showCloseButton: true,
});
$('#id_horaAlmuerzo').timepicker({
	showPeriod: true,
    showLeadingZero: true,
    hourText: 'Hora',
    minuteText: 'Minutos',
    amPmText: ['AM', 'PM'],
    timeSeparator: ':',
    nowButtonText: 'Hora actual',
    showNowButton: true,
    closeButtonText: 'Cerrar',
    showCloseButton: true,
});
$('#id_horaMerienda2').timepicker({
 	showPeriod: true,
    showLeadingZero: true,
    hourText: 'Hora',
    minuteText: 'Minutos',
    amPmText: ['AM', 'PM'],
    timeSeparator: ':',
    nowButtonText: 'Hora actual',
    showNowButton: true,
    closeButtonText: 'Cerrar',
    showCloseButton: true,
});
$('#id_horaCena').timepicker({
 	showPeriod: true,
    showLeadingZero: true,
    hourText: 'Hora',
    minuteText: 'Minutos',
    amPmText: ['AM', 'PM'],
    timeSeparator: ':',
    nowButtonText: 'Hora actual',
    showNowButton: true,
    closeButtonText: 'Cerrar',
    showCloseButton: true,
});
$('#id_horaMerienda3').timepicker({
	showPeriod: true,
    showLeadingZero: true,
    hourText: 'Hora',
    minuteText: 'Minutos',
    amPmText: ['AM', 'PM'],
    timeSeparator: ':',
    nowButtonText: 'Hora actual',
    showNowButton: true,
    closeButtonText: 'Cerrar',
    showCloseButton: true,
});
});
</script>